## 文件管理系统周期一

### 开发框架
- 前端：参考文件前端设计关键词与提示词.md
- 后端：Flask
- 数据库：sqlite3 或 Mysql 默认使用sqlite3作为开发测试数据库，建议在设置中设置可以切换数据库


### 前端页面设计
参考文件前端设计关键词与提示词.md

### 功能介绍
- [ ] 用户基本的上传文件和管理文件
- [ ] 分类管理：用户可以创建、编辑、删除分类
- [ ] 权限管理：用户可以设置分类的访问权限
- [ ] 搜索功能：用户可以根据文件名、分类等搜索文件
- [ ] 批量操作：用户可以批量上传、删除、移动文件
- [ ] 分享功能：用户可以分享文件给其他用户
- [ ] 版本控制：用户可以查看文件的版本历史
- [ ] 备份功能：用户可以备份文件到云存储
- [ ] 统计分析：用户可以查看文件的上传量、下载量、流量等统计信息


### 详细功能设计

#### 1. 文件夹管理系统
##### 1.1 父级文件夹
- 功能定位：作为文件分类的顶层容器，不直接存储文件
- 创建位置：系统侧边栏
- 操作权限：
  - 创建新的父级文件夹
  - 编辑文件夹名称
  - 删除文件夹（需确认是否删除其下所有子文件夹及文件）
  
##### 1.2 子文件夹
- 功能定位：实际存储文件的容器
- 创建条件：必须在父级文件夹下创建
- 操作权限：
  - 创建子文件夹
  - 编辑文件夹名称
  - 删除文件夹
  - 移动文件夹位置

#### 2. 文件上传系统
##### 2.1 上传流程
1. 选择目标父级文件夹
2. 选择具体的子文件夹
3. 系统校验：
   - 必须存在子文件夹才能上传
   - 无子文件夹时提示创建

##### 2.2 文件类型识别
- 自动识别文件后缀名
- 根据预设类型进行标签标记
- 支持文件类型：
  - 文档类：.doc, .docx, .pdf, .txt等
  - 图片类：.jpg, .png, .gif等
  - 视频类：.mp4, .avi, .mov等
  - 其他常用格式

#### 3. 文件管理功能
##### 3.1 文件浏览
- 以列表/网格形式展示文件
- 显示文件基本信息：
  - 文件名
  - 文件大小
  - 上传时间
  - 文件类型标签

##### 3.2 文件预览
- 支持预览的文件类型：
  - PDF文档
  - Office文档（Excel, Word）
  - 图片文件
  - 视频文件
- 不支持预览处理：
  - 提示用户下载
  - 显示文件类型图标
- 预览方式：
  - 使用npm集成的预览组件
  - 弹窗或内嵌预览窗口



### 4. 系统细节要求

#### 4.1 文件上传处理
##### 4.1.1 文件类型识别
- 系统自动识别上传文件类型
- 根据文件类型添加对应标签标记
- 支持批量上传文件识别

##### 4.1.2 上传状态保持
- 页面切换时保持上传记录和文件状态
- 上传记录清除条件：所有文件完成上传至指定文件夹
- 中断上传支持断点续传

#### 4.2 文件夹选择流程
##### 4.2.1 文件夹选择规则
- 强制先选择父级文件夹
- 父级文件夹禁止直接存储文件
- 子文件夹为必选项

##### 4.2.2 子文件夹处理
- 父级文件夹无子文件夹时：
  - 自动弹出创建子文件夹提示
  - 禁用文件上传功能
  - 引导用户完成子文件夹创建

#### 4.3 文件夹目录管理
##### 4.3.1 目录树设计
- 采用树形结构展示
- 防止目录重复显示
- 实时同步目录状态

##### 4.3.2 文件夹命名规则
- 同级目录下文件夹名称唯一
- 重名检测与提示
- 支持文件夹重命名功能

#### 4.4 文件预览功能
##### 4.4.1 可预览文件类型
- PDF文档
- Office文档（Excel、Word）
- 图片文件（支持主流格式）
- 视频文件（支持主流格式）

##### 4.4.2 不可预览文件处理
- 显示文件类型图标
- 提供下载选项
- 文件格式说明

##### 4.4.3 预览实现方式
- 集成npm预览组件
- 支持弹窗预览
- 支持页面内嵌预览



